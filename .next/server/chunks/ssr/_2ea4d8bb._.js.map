{"version":3,"sources":["../../../../components/error/ErrorBoundary.tsx","../../../../hooks/useReducedMotion.ts","../../../../components/performance/PerformanceMonitor.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Component, ReactNode } from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n}\r\n\r\nexport default class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallback || (\r\n        <motion.div\r\n          className=\"min-h-screen bg-black flex items-center justify-center p-4\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n        >\r\n          <div className=\"text-center max-w-md\">\r\n            <div className=\"text-6xl mb-4\">⚠️</div>\r\n            <h1 className=\"text-heading-1 font-display text-white mb-4\">\r\n              Something went wrong\r\n            </h1>\r\n            <p className=\"text-body text-text-secondary mb-8\">\r\n              We're sorry for the inconvenience. Please refresh the page or contact support.\r\n            </p>\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"cta-button-sci-fi-primary\"\r\n            >\r\n              Refresh Page\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Hook to detect if the user prefers reduced motion\r\n * Returns true if the user has set prefers-reduced-motion: reduce\r\n */\r\nexport function useReducedMotion(): boolean {\r\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\r\n    \r\n    // Set initial value\r\n    setPrefersReducedMotion(mediaQuery.matches);\r\n\r\n    // Listen for changes\r\n    const handleChange = (event: MediaQueryListEvent) => {\r\n      setPrefersReducedMotion(event.matches);\r\n    };\r\n\r\n    // Modern browsers\r\n    if (mediaQuery.addEventListener) {\r\n      mediaQuery.addEventListener('change', handleChange);\r\n      return () => mediaQuery.removeEventListener('change', handleChange);\r\n    } \r\n    // Fallback for older browsers\r\n    else if (mediaQuery.addListener) {\r\n      mediaQuery.addListener(handleChange);\r\n      return () => mediaQuery.removeListener(handleChange);\r\n    }\r\n  }, []);\r\n\r\n  return prefersReducedMotion;\r\n}\r\n\r\n\r\n\r\n\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface PerformanceMetrics {\r\n  fps: number;\r\n  memory?: number;\r\n  loadTime: number;\r\n}\r\n\r\nexport default function PerformanceMonitor() {\r\n  const [metrics, setMetrics] = useState<PerformanceMetrics | null>(null);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Only show in development\r\n    if (process.env.NODE_ENV !== 'development') return;\r\n\r\n    const startTime = performance.now();\r\n\r\n    // FPS monitoring\r\n    let lastTime = performance.now();\r\n    let frameCount = 0;\r\n    let fps = 60;\r\n\r\n    const measureFPS = () => {\r\n      frameCount++;\r\n      const currentTime = performance.now();\r\n      const delta = currentTime - lastTime;\r\n\r\n      if (delta >= 1000) {\r\n        fps = Math.round((frameCount * 1000) / delta);\r\n        frameCount = 0;\r\n        lastTime = currentTime;\r\n\r\n        const loadTime = performance.now() - startTime;\r\n        const memory = (performance as any).memory\r\n          ? Math.round((performance as any).memory.usedJSHeapSize / 1048576)\r\n          : undefined;\r\n\r\n        setMetrics({ fps, memory, loadTime });\r\n      }\r\n\r\n      requestAnimationFrame(measureFPS);\r\n    };\r\n\r\n    measureFPS();\r\n\r\n    // Toggle with Ctrl+Shift+P\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      if (e.ctrlKey && e.shiftKey && e.key === 'P') {\r\n        e.preventDefault();\r\n        setIsVisible((prev) => !prev);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyPress);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyPress);\r\n    };\r\n  }, []);\r\n\r\n  if (!isVisible || !metrics) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 bg-black/90 backdrop-blur-md border border-cyan-400/30 rounded-lg p-4 z-[9999] font-mono text-xs\">\r\n      <div className=\"text-cyan-400 mb-2 font-bold\">Performance Monitor</div>\r\n      <div className=\"space-y-1 text-white\">\r\n        <div>FPS: <span className={metrics.fps >= 55 ? 'text-green-400' : metrics.fps >= 30 ? 'text-yellow-400' : 'text-red-400'}>{metrics.fps}</span></div>\r\n        {metrics.memory && <div>Memory: {metrics.memory} MB</div>}\r\n        <div>Load: {Math.round(metrics.loadTime)}ms</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAYe,OAAM,UAAsB,EAAA,SAAS,CAClD,YAAY,CAAY,CAAE,CACxB,KAAK,CAAC,GACN,IAAI,CAAC,KAAK,CAAG,CAAE,UAAU,CAAM,CACjC,CAEA,OAAO,yBAAyB,CAAY,CAAS,CACnD,MAAO,CAAE,UAAU,EAAM,OAAM,CACjC,CAEA,kBAAkB,CAAY,CAAE,CAA0B,CAAE,CAE5D,CAEA,QAAS,QACP,AAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CACd,CADgB,GACZ,CAAC,KAAK,CAAC,QAAQ,EACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,6DACV,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,WAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,yBAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,mFAGlD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,OAAO,QAAQ,CAAC,MAAM,GACrC,UAAU,qCACX,sBAQF,IAAI,CAAC,KAAK,CAAC,QAAQ,AAC5B,CACF,gDCxDA,IAAA,EAAA,EAAA,CAAA,CAAA,OAMO,SAAS,IACd,GAAM,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GA2BjE,MAzBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAuBV,EAAG,EAAE,EAEE,CACT,0ECnCA,EAAA,EAAA,CAAA,CAAA,OAQe,SAAS,IACtB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA4B,MAC5D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAmD3C,CAjDA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KA+CV,EAAG,EAAE,EAEA,AAAD,GAAe,GAGjB,CAAA,EAAA,EAAA,CAH0B,CAAV,EAGhB,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,wBAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,QAAK,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAQ,GAAG,EAAI,GAAK,iBAAmB,EAAQ,GAAG,EAAI,GAAK,kBAAoB,wBAAiB,EAAQ,GAAG,MACrI,EAAQ,MAAM,EAAI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,WAAS,EAAQ,MAAM,CAAC,SAChD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,SAAO,KAAK,KAAK,CAAC,EAAQ,QAAQ,EAAE,cARZ,IAYrC"}