{"version":3,"sources":["../../../../components/ar/ARPreview.tsx"],"sourcesContent":["'use client';\r\n\r\n/**\r\n * AR PREVIEW COMPONENT\r\n * WebXR-based AR preview for products\r\n */\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface ARPreviewProps {\r\n  productName: string;\r\n  modelUrl?: string;\r\n  qrCodeUrl?: string;\r\n}\r\n\r\nexport default function ARPreview({ productName, modelUrl, qrCodeUrl }: ARPreviewProps) {\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const arContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    // Check WebXR support\r\n    if (typeof navigator !== 'undefined' && 'xr' in navigator) {\r\n      (navigator as any).xr?.isSessionSupported('immersive-ar').then((supported: boolean) => {\r\n        setIsSupported(supported);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const startAR = async () => {\r\n    if (!isSupported) {\r\n      alert('AR is not supported on your device. Please use a compatible mobile device.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // In production, this would initialize WebXR session\r\n      // For now, we'll show a QR code for mobile AR\r\n      setIsActive(true);\r\n    } catch (error) {\r\n      console.error('AR initialization failed:', error);\r\n      alert('Failed to start AR. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={startAR}\r\n        className=\"px-6 py-3 bg-gradient-to-r from-brand-gold to-yellow-600 text-black font-semibold rounded-lg hover:from-yellow-400 hover:to-brand-gold transition-all flex items-center gap-2\"\r\n      >\r\n        <span>ðŸ“±</span>\r\n        View in AR\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {isActive && (\r\n          <motion.div\r\n            className=\"fixed inset-0 z-50 bg-black/95 flex items-center justify-center\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={() => setIsActive(false)}\r\n          >\r\n            <motion.div\r\n              className=\"bg-gray-900 rounded-2xl p-8 max-w-md text-center border border-gray-800\"\r\n              initial={{ scale: 0.9, y: 20 }}\r\n              animate={{ scale: 1, y: 0 }}\r\n              exit={{ scale: 0.9, y: 20 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <h3 className=\"text-2xl font-bold text-white mb-4\">\r\n                View {productName} in AR\r\n              </h3>\r\n              \r\n              {isSupported ? (\r\n                <>\r\n                  <p className=\"text-gray-400 mb-6\">\r\n                    AR is supported! Click below to start the AR experience.\r\n                  </p>\r\n                  <div className=\"bg-white p-6 rounded-lg mb-6\">\r\n                    {/* QR Code for mobile AR */}\r\n                    <div className=\"w-64 h-64 bg-gray-200 mx-auto flex items-center justify-center rounded\">\r\n                      {qrCodeUrl ? (\r\n                        <img src={qrCodeUrl} alt=\"AR QR Code\" className=\"w-full h-full object-contain\" />\r\n                      ) : (\r\n                        <div className=\"text-gray-500\">QR Code</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-400 mb-6\">\r\n                    Scan with your mobile device camera to view in AR\r\n                  </p>\r\n                  <button\r\n                    onClick={() => {\r\n                      // In production, this would start WebXR session\r\n                      window.open(`/ar/${productName.toLowerCase().replace(/\\s+/g, '-')}`, '_blank');\r\n                    }}\r\n                    className=\"w-full cta-button-primary mb-4\"\r\n                  >\r\n                    Start AR Experience\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <p className=\"text-gray-400 mb-6\">\r\n                    AR requires a compatible mobile device. Scan the QR code with your phone's camera.\r\n                  </p>\r\n                  <div className=\"bg-white p-6 rounded-lg mb-6\">\r\n                    <div className=\"w-64 h-64 bg-gray-200 mx-auto flex items-center justify-center rounded\">\r\n                      {qrCodeUrl ? (\r\n                        <img src={qrCodeUrl} alt=\"AR QR Code\" className=\"w-full h-full object-contain\" />\r\n                      ) : (\r\n                        <div className=\"text-gray-500\">QR Code</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n              \r\n              <button\r\n                onClick={() => setIsActive(false)}\r\n                className=\"w-full px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-all\"\r\n              >\r\n                Close\r\n              </button>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}