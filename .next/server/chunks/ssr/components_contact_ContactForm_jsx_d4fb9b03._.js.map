{"version":3,"sources":["../../../../components/contact/ContactForm.jsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { gsap } from \"gsap\";\r\n\r\nexport default function ContactForm({ performanceTier }) {\r\n  const root = useRef(null);\r\n  const [step, setStep] = useState(1);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    trigger,\r\n    formState: { errors, isSubmitting },\r\n    reset,\r\n  } = useForm({ mode: \"onBlur\" });\r\n\r\n  useEffect(() => {\r\n    if (!root.current) return;\r\n    const chamber = root.current.querySelector(\".chamber\");\r\n    const animation = gsap.fromTo(\r\n      chamber,\r\n      { opacity: 0, scale: 0.98, filter: \"blur(2px)\" },\r\n      { opacity: 1, scale: 1, filter: \"blur(0px)\", duration: 0.6, ease: \"power3.out\" }\r\n    );\r\n\r\n    return () => {\r\n      animation.kill();\r\n    };\r\n  }, [step]);\r\n\r\n  const advance = async () => {\r\n    const valid = await trigger(step === 1 ? [\"name\", \"email\"] : step === 2 ? [\"subject\"] : [\"message\"]);\r\n    if (valid) setStep((s) => Math.min(3, s + 1));\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(\"Contact form submission:\", data);\r\n    // Simulate API call\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n    reset();\r\n    setStep(1);\r\n  };\r\n\r\n  return (\r\n    <section className=\"contact-form section-pad\" aria-labelledby=\"contact-form-heading\" ref={root}>\r\n      <h2 id=\"contact-form-heading\">Feedback Universe</h2>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n        <div className=\"chamber\" role=\"group\" aria-label={`Vault chamber step ${step}`}>\r\n          {step === 1 && (\r\n            <>\r\n              <div className=\"input-wrap\">\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input\r\n                  id=\"name\"\r\n                  {...register(\"name\", { required: \"Name is required\" })}\r\n                  aria-invalid={errors.name ? \"true\" : \"false\"}\r\n                />\r\n                {errors.name && <span role=\"alert\" className=\"error-msg\">{errors.name.message}</span>}\r\n              </div>\r\n\r\n              <div className=\"input-wrap\">\r\n                <label htmlFor=\"cf-email\">Email</label>\r\n                <input\r\n                  id=\"cf-email\"\r\n                  type=\"email\"\r\n                  {...register(\"email\", {\r\n                    required: \"Email is required\",\r\n                    pattern: { value: /^\\S+@\\S+$/i, message: \"Enter a valid email\" },\r\n                  })}\r\n                  aria-invalid={errors.email ? \"true\" : \"false\"}\r\n                />\r\n                {errors.email && <span role=\"alert\" className=\"error-msg\">{errors.email.message}</span>}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {step === 2 && (\r\n            <div className=\"input-wrap\">\r\n              <label htmlFor=\"subject\">Subject</label>\r\n              <input\r\n                id=\"subject\"\r\n                {...register(\"subject\", { required: \"Subject is required\" })}\r\n                aria-invalid={errors.subject ? \"true\" : \"false\"}\r\n              />\r\n              {errors.subject && <span role=\"alert\" className=\"error-msg\">{errors.subject.message}</span>}\r\n            </div>\r\n          )}\r\n\r\n          {step === 3 && (\r\n            <div className=\"input-wrap\">\r\n              <label htmlFor=\"message\">Message</label>\r\n              <textarea\r\n                id=\"message\"\r\n                rows={6}\r\n                {...register(\"message\", { \r\n                  required: \"Message is required\", \r\n                  minLength: { value: 10, message: \"At least 10 characters\" } \r\n                })}\r\n                aria-invalid={errors.message ? \"true\" : \"false\"}\r\n              />\r\n              {errors.message && <span role=\"alert\" className=\"error-msg\">{errors.message.message}</span>}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"vault-controls\">\r\n          {step < 3 ? (\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-neon\" \r\n              onClick={advance} \r\n              aria-label=\"Next chamber\"\r\n            >\r\n              Unlock Next\r\n            </button>\r\n          ) : (\r\n            <button \r\n              type=\"submit\" \r\n              className=\"btn-neon\" \r\n              aria-label=\"Submit message\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? \"Sending...\" : \"Transmit\"}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}