[
  {
    "service": "Solar Systems",
    "code": "SOL-101",
    "issue": "Low voltage output from solar array",
    "severity": "MED",
    "symptoms": "Array voltage below 80% of rated output; intermittent power delivery; inverter disconnect warnings",
    "causes": ["Panel shading or soiling reducing irradiance", "String configuration mismatch", "MC4 connector corrosion", "Panel degradation >5% per year", "Bypass diode failure", "Module hot spots from cell mismatch"],
    "solution": "Perform IV curve tracing on each string. Clean panels to restore 95%+ transmittance. Check string voltages under load. Verify Voc and Isc match datasheet ±5%. Replace failed bypass diodes. Rebalance strings for uniform MPP tracking.",
    "parts": ["MC4 connectors", "Bypass diodes", "String fuses", "Cleaning supplies"],
    "tools": ["IV curve tracer", "Multimeter", "Irradiance meter", "Thermal camera"],
    "downtime": "2-6 hours",
    "preventive": "Quarterly panel cleaning, annual IV curve testing, semi-annual thermal imaging"
  },
  {
    "service": "Solar Systems",
    "code": "SOL-102",
    "issue": "Inverter not starting or frequent shutdowns",
    "severity": "HIGH",
    "symptoms": "Inverter fails to initialize; red fault LED; grid synchronization failure; frequent overtemp shutdowns",
    "causes": ["DC input undervoltage <400V", "AC grid parameters out of range (±10% voltage, ±0.5Hz)", "Internal capacitor failure", "Cooling fan malfunction", "Firmware corruption", "Anti-islanding protection triggered"],
    "solution": "Measure DC bus voltage ≥450V at inverter terminals. Verify grid voltage 220-240V ±5%, frequency 50Hz ±0.3Hz. Check cooling fans for airflow ≥300 CFM. Inspect DC bus capacitors for bulging/leakage. Update firmware to latest stable version. Test anti-islanding settings per IEEE 1547.",
    "parts": ["DC bus capacitors", "Cooling fans", "Fuse links", "Firmware upgrade kit"],
    "tools": ["Oscilloscope", "Power quality analyzer", "Anemometer", "Firmware programmer"],
    "downtime": "4-12 hours",
    "preventive": "Monthly inverter logs review, quarterly cooling system inspection, annual capacitor ESR testing"
  },
  {
    "service": "Solar Systems",
    "code": "SOL-103",
    "issue": "Frequent grid disconnections",
    "severity": "MED",
    "symptoms": "Inverter disconnects 5+ times per day; over/under voltage alarms; frequency deviation trips",
    "causes": ["Poor grid quality (THD >5%)", "Weak grid impedance", "Incorrect inverter settings", "Faulty anti-islanding detection", "Ground fault interrupter nuisance trips", "Phase imbalance >3%"],
    "solution": "Perform grid quality audit: THD <3%, voltage stability ±2%, frequency ±0.2Hz. Adjust inverter trip thresholds per Kenya grid code. Install DVR (Dynamic Voltage Regulator) if grid voltage swings >5%. Verify GFI sensitivity 30mA ±10%. Balance three-phase loads to <2% imbalance. Enable 'weak grid' mode if available.",
    "parts": ["DVR unit", "Grid quality filter", "GFI relay", "Phase balancer"],
    "tools": ["Grid analyzer", "Harmonics meter", "GFI tester", "Data logger"],
    "downtime": "3-8 hours",
    "preventive": "Monthly grid quality logging, quarterly protection relay testing, annual inverter calibration"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-201",
    "issue": "Engine won't start or hard starting",
    "severity": "HIGH",
    "symptoms": "Cranks but won't fire; extended cranking time >10 seconds; white smoke on startup; battery voltage drops below 10V during crank",
    "causes": ["Weak batteries <12.2V resting", "Air in fuel system", "Glow plug failure in cold weather", "Fuel contamination (water/algae)", "Starter motor degradation <100A draw", "Low compression <300 PSI", "Faulty fuel lift pump"],
    "solution": "Load test batteries: ≥600 CCA at 0°C. Bleed fuel system until bubble-free flow. Test glow plugs: resistance 0.5-2Ω per plug. Drain and sample fuel for water/sediment. Measure starter current: 150-250A typical. Compression test all cylinders: 350-450 PSI. Replace fuel lift pump if pressure <30 PSI.",
    "parts": ["Batteries", "Glow plugs", "Fuel filters", "Fuel lift pump", "Starter solenoid"],
    "tools": ["Load tester", "Compression tester", "Fuel pressure gauge", "Clamp ammeter", "Ohmmeter"],
    "downtime": "1-4 hours",
    "preventive": "Weekly battery voltage check, monthly fuel sampling, quarterly glow plug testing, annual starter inspection"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-202",
    "issue": "High coolant temperature / overheating",
    "severity": "HIGH",
    "symptoms": "Coolant temp >105°C; steam from overflow; radiator hoses hot to touch; high temp shutdown; expansion tank overflow",
    "causes": ["Low coolant level", "Radiator core blockage reducing airflow", "Thermostat stuck closed", "Water pump impeller damage", "Fan belt slippage", "Head gasket failure (combustion gases in coolant)", "Insufficient radiator capacity for ambient temp"],
    "solution": "Inspect coolant level: fill to +20mm above min when cold. Pressure test cooling system: hold 15 PSI for 10 min. Test thermostat opening temp: 82-88°C. Check water pump flow: ≥40 LPM at rated RPM. Verify fan belt tension: 10-15mm deflection. Combustion leak test: watch for bubbles in radiator when running. Calculate radiator capacity: 1kW heat rejection per engine kW × 1.2 safety factor.",
    "parts": ["Coolant (Ethylene glycol 50/50)", "Thermostat", "Water pump", "Fan belt", "Radiator cap", "Head gasket kit"],
    "tools": ["Pressure tester", "Infrared thermometer", "Combustion leak detector", "Belt tension gauge", "Flow meter"],
    "downtime": "3-8 hours",
    "preventive": "Weekly coolant level check, monthly radiator cleaning, quarterly thermostat test, annual cooling system flush"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-203",
    "issue": "Low oil pressure warning or shutdown",
    "severity": "CRITICAL",
    "symptoms": "Oil pressure <30 PSI at rated speed; pressure gauge fluctuating; metal particles in oil; knocking sounds; low pressure alarm/shutdown",
    "causes": ["Low oil level <4L on dipstick", "Oil pump wear reducing output", "Pressure relief valve stuck open", "Worn main/rod bearings", "Oil filter bypass valve open", "Wrong oil viscosity (too thin)", "Oil dilution from fuel leak"],
    "solution": "Check oil level: maintain between MAX and +10mm above MIN. Install mechanical oil pressure gauge: verify 40-60 PSI at rated RPM, 10-15 PSI at idle. Inspect oil for fuel smell (dilution) or metallic sheen (bearing wear). Test relief valve opening pressure: 60-70 PSI. Send oil sample for spectroscopic analysis: Fe <100 ppm, Cu <50 ppm, Pb <50 ppm. Replace bearings if clearance >0.1mm.",
    "parts": ["Engine oil (15W-40 CI-4+)", "Oil filter", "Oil pump", "Bearings (main & rod)", "Pressure relief valve", "Oil cooler"],
    "tools": ["Mechanical oil pressure gauge", "Oil analysis kit", "Micrometer", "Plastigage", "Endoscope"],
    "downtime": "2-12 hours (bearing replacement: 20-40 hours)",
    "preventive": "Daily oil level check, 250-hour oil changes, quarterly oil analysis, annual oil pump inspection"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-204",
    "issue": "Battery not charging / alternator failure",
    "severity": "MED",
    "symptoms": "Battery voltage not rising above 12.5V when running; charge lamp stays on; battery drains overnight; voltage regulator overheating",
    "causes": ["Alternator belt slipping (deflection >15mm)", "Faulty voltage regulator", "Diode trio failure", "Broken stator windings", "Poor battery terminal connections", "Charge sense wire disconnected"],
    "solution": "With engine running, measure alternator output: 13.8-14.4V DC, ripple <0.5V AC. Test diode trio: 0.5-0.8V forward, >10V reverse on all diodes. Inspect stator windings: resistance 0.1-0.3Ω per phase, insulation >5MΩ to ground. Check belt tension: 10mm deflection at 10kg force. Clean battery terminals: <0.1Ω resistance. Verify charge sense wire continuity.",
    "parts": ["Alternator", "Voltage regulator", "Diode trio", "Alternator belt", "Battery terminals", "Sense wire"],
    "tools": ["Multimeter", "Oscilloscope", "Belt tension gauge", "Insulation tester", "Battery hydrometer"],
    "downtime": "2-5 hours",
    "preventive": "Monthly belt inspection, quarterly alternator output test, annual brush/bearing replacement"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-205",
    "issue": "Excessive fuel consumption",
    "severity": "MED",
    "symptoms": "Fuel consumption >30% above rated (0.25 L/kWh); black smoke at all loads; fuel smell in exhaust; oil level rising (fuel dilution)",
    "causes": ["Injector nozzles worn/coked", "Injection timing retarded", "Turbocharger underperforming", "Air filter restriction >6.3 kPa", "Governor droop setting incorrect", "Fuel quality (cetane <45)"],
    "solution": "Test injectors: opening pressure 200-220 bar, spray pattern 60° cone, no drip after cutoff. Check injection timing: TDC ±2° BTDC at 20% load. Measure turbo boost: 1.5-2.0 bar at full load. Test air filter restriction: replace at 4.5 kPa. Calibrate governor: 3-5% droop typical. Analyze fuel: cetane ≥45, density 820-860 kg/m³ @ 15°C, sulfur <500 ppm.",
    "parts": ["Injector nozzles", "Fuel filters", "Air filter", "Turbocharger rebuild kit", "Governor springs"],
    "tools": ["Injector tester", "Timing light", "Boost pressure gauge", "Manometer", "Fuel density meter"],
    "downtime": "4-10 hours",
    "preventive": "500-hour injector inspection, quarterly timing check, monthly air filter check, annual turbo overhaul"
  },
  {
    "service": "Diesel Generators",
    "code": "GEN-206",
    "issue": "Excessive black smoke from exhaust",
    "severity": "MED",
    "symptoms": "Dense black smoke at load; soot accumulation on exhaust; reduced power output; high exhaust temp >650°C",
    "causes": ["Fuel-air ratio too rich", "Turbo lag or failure", "Air intake restriction", "Injector spray pattern poor", "Combustion chamber carbon buildup", "Exhaust back pressure >50 kPa"],
    "solution": "Adjust fuel rack setting: ensure full load stop is correct. Test turbocharger: shaft end play <0.5mm, no oil in compressor. Clean/replace air filter: restriction <4.5 kPa. Inspect injector spray: 60° cone, atomization <10 microns SMD. Decarbonize combustion chambers if compression >450 PSI. Measure exhaust restriction: <40 kPa at rated load.",
    "parts": ["Fuel injection pump", "Turbocharger", "Air filter", "Injector nozzles", "Exhaust gaskets"],
    "tools": ["Smoke opacity meter", "Boost gauge", "Manometer", "Compression tester", "Endoscope"],
    "downtime": "3-8 hours",
    "preventive": "Monthly smoke opacity test, quarterly turbo inspection, 1000-hour decarbonization, annual fuel system calibration"
  },
  {
    "service": "Controls",
    "code": "CTRL-301",
    "issue": "Controller alarm A12: Sensor scaling mismatch",
    "severity": "MED",
    "symptoms": "Erratic sensor readings; alarm triggers at incorrect setpoints; display shows unrealistic values (e.g., -40°C coolant temp)",
    "causes": ["Incorrect sensor type configured (RTD vs thermocouple)", "Scaling parameters wrong", "4-20mA sensor wired incorrectly", "Sensor ground loop", "ADC calibration drift"],
    "solution": "Verify sensor type: RTD Pt100 (resistance 100Ω @ 0°C), K-type thermocouple (41µV/°C), or 4-20mA (4mA = 0%, 20mA = 100%). Recalibrate sensor inputs: apply known reference signal, adjust offset and span. Check wiring: 4-wire RTD, shielded cable for TC, isolated ground for 4-20mA. Update controller firmware if ADC drift suspected. Document all scaling parameters in configuration backup.",
    "parts": ["Replacement sensors", "Shielded cable", "Ground isolators", "Calibration simulator"],
    "tools": ["Process calibrator", "Ohmmeter", "Oscilloscope", "Ground loop detector", "Configuration software"],
    "downtime": "1-3 hours",
    "preventive": "Annual sensor calibration, quarterly ground loop testing, firmware updates as released"
  },
  {
    "service": "DeepSea Controllers",
    "code": "DS-101",
    "issue": "DeepSea controller not powering on",
    "severity": "HIGH",
    "symptoms": "No display illumination; no LED indicators; no relay clicks during power-on; fuse intact but no voltage at terminals",
    "causes": ["Power supply failure (5V/12V rails)", "Blown fuse or fuse holder corrosion", "Loose power terminal connections", "Internal PCB short circuit", "Firmware corruption preventing boot"],
    "solution": "Measure supply voltage: 8-32V DC nominal input. Check fuse: 5A fast-blow, replace if >50% rated current. Inspect terminals: torque to 1.5 Nm, clean oxidation with contact cleaner. Test 5V and 12V internal rails with multimeter (requires board access). Attempt firmware recovery via USB: hold reset during power-on, flash factory firmware. If PCB damaged, send for depot repair or replace unit.",
    "parts": ["Replacement fuse 5A", "Power terminal block", "Controller replacement", "Firmware USB stick"],
    "tools": ["Multimeter", "Torque screwdriver", "Contact cleaner", "PC with DSE Configuration Suite"],
    "downtime": "1-4 hours (depot repair: 3-7 days)",
    "preventive": "Quarterly terminal torque check, annual fuse inspection, backup configuration monthly"
  },
  {
    "service": "DeepSea Controllers",
    "code": "DS-102",
    "issue": "CAN bus communication timeout or ECU lost",
    "severity": "CRITICAL",
    "symptoms": "ECM communication lost alarm; engine data not updating; CAN status LED off or blinking red; error counters incrementing",
    "causes": ["CAN termination missing or incorrect (not 120Ω)", "Damaged CAN wiring or loose connectors", "ECM not transmitting (J1939 fault)", "Wrong baud rate configured", "Electromagnetic interference on CAN lines", "Ground potential difference >0.5V"],
    "solution": "Measure CAN bus resistance: 60Ω with both terminators (CAN-H to CAN-L). Verify baud rate: 250 kbps for J1939, 500 kbps for CANopen. Check CAN-H and CAN-L voltages: differential 2V typical during transmission. Inspect wiring: twisted pair, shielded, <40m total length. Test ECM communication separately: ensure J1939 PGN 61444 (Electronic Engine Controller 1) transmitting every 50ms. Eliminate ground loops: bond all devices to single chassis ground point.",
    "parts": ["120Ω termination resistors", "Shielded twisted pair cable", "CAN connectors", "Ferrite beads", "Ground straps"],
    "tools": ["CAN bus analyzer", "Oscilloscope", "Ohmmeter", "Ground potential meter", "ECM diagnostic software"],
    "downtime": "2-6 hours",
    "preventive": "Quarterly CAN bus health check, annual termination resistance test, monthly error counter review"
  },
  {
    "service": "DeepSea Controllers",
    "code": "DS-103",
    "issue": "False shutdown or nuisance alarms",
    "severity": "MED",
    "symptoms": "Engine shuts down without valid fault; alarm log shows incorrect sensor trip; intermittent shutdowns under load; delay timers not working",
    "causes": ["Sensor calibration drift", "Incorrect alarm delay settings", "Electrical noise on sensor inputs", "Loose sensor wiring", "Firmware bug in alarm logic", "Marginal sensor signals near threshold"],
    "solution": "Recalibrate sensors: oil pressure ±2% of full scale, temperature ±1°C. Adjust alarm delays: coolant temp warning 5s, shutdown 10s; oil pressure warning 5s, shutdown 3s. Install RC filters on noisy inputs: 100Ω + 1µF typical. Inspect sensor wiring: check for intermittent connections, corrosion, or damaged insulation. Update firmware to latest stable release. Review alarm history: identify patterns (time of day, load conditions). Increase pre-alarm delay if sensor stability is marginal.",
    "parts": ["Replacement sensors", "RC filter components", "Ferrite clamps", "Firmware update"],
    "tools": ["Process calibrator", "Oscilloscope", "Configuration software", "Data logger"],
    "downtime": "2-5 hours",
    "preventive": "Semi-annual sensor calibration, quarterly firmware updates, monthly alarm log review"
  },
  {
    "service": "DeepSea Controllers",
    "code": "DS-104",
    "issue": "Incorrect sensor readings or display anomalies",
    "severity": "MED",
    "symptoms": "Temperature shows 0°C or 200°C (out-of-range); oil pressure reads negative; voltage/frequency incorrect; intermittent display glitches",
    "causes": ["Open circuit sensor wiring", "Sensor type mismatch (VDO vs US standard)", "ADC input saturation", "Display calibration incorrect", "Electromagnetic interference", "Software scaling error"],
    "solution": "Verify sensor type configuration: VDO sensors (0-180Ω for temp, 0-10 bar for pressure) vs US sensors (different resistance curves). Check sensor resistance: compare to datasheet at known conditions. Test at controller terminals: simulate sensor with decade box, verify display accuracy ±2%. Inspect wiring for EMI: route away from ignition system, use shielded cable. Recalibrate display offsets in configuration menu. Update configuration if scaling parameters changed.",
    "parts": ["Replacement sensors (VDO/US as needed)", "Shielded sensor cable", "Ferrite clamps", "Decade resistance box (for testing)"],
    "tools": ["Ohmmeter", "Decade box", "Configuration software", "EMI detector", "Infrared thermometer"],
    "downtime": "1-4 hours",
    "preventive": "Annual sensor verification, quarterly wiring inspection, monthly display accuracy spot check"
  },
  {
    "service": "PowerWizard Systems",
    "code": "PW-101",
    "issue": "PowerWizard display blank or not powering on",
    "severity": "HIGH",
    "symptoms": "LCD backlight off; no keypad response; no LED indicators; genset runs but no display; last configuration lost",
    "causes": ["Power supply voltage out of range (8-32V DC)", "Internal fuse blown", "LCD connector loose", "EEPROM corruption", "Firmware flash failure", "Backlight inverter failure"],
    "solution": "Measure battery voltage at PowerWizard terminals: 12V systems require 10-16V, 24V systems require 20-32V. Check internal fuse (if accessible): typically 5A fast-blow. Reseat LCD ribbon cable. Attempt firmware recovery: with unit powered off, press and hold [MENU] + [ENTER] for 10 seconds, then power on to enter bootloader mode. Use PowerWizard Configuration Tool via USB to reflash firmware. If EEPROM corrupted, restore from backup configuration file. Replace unit if hardware failure confirmed.",
    "parts": ["PowerWizard replacement unit", "Internal fuse", "LCD module", "Firmware USB drive"],
    "tools": ["Multimeter", "Torx screwdriver", "PC with PowerWizard Configuration Tool", "Backup configuration file"],
    "downtime": "1-4 hours (unit replacement: order lead time 2-5 days)",
    "preventive": "Monthly configuration backup, quarterly power supply voltage check, annual firmware update review"
  },
  {
    "service": "PowerWizard Systems",
    "code": "PW-102",
    "issue": "Sensor error or invalid readings",
    "severity": "MED",
    "symptoms": "Sensor fault alarm; readings stuck at 0 or max scale; oil pressure/coolant temp alarms trigger incorrectly; yellow wrench icon on display",
    "causes": ["Open or shorted sensor wiring", "Incompatible sensor type", "Sensor ground fault", "ADC input failure", "Incorrect sensor configuration in setup menu", "Sensor exceeded operating range"],
    "solution": "Verify sensor compatibility: Cummins PowerWizard typically uses Cummins-specific sensors (e.g., coolant temp sensor P/N 3417182). Measure sensor resistance: compare to published curves (e.g., coolant temp sensor: ~2500Ω @ 25°C, ~185Ω @ 100°C). Check for shorts: >10kΩ to ground when disconnected. Test sensor at controller: disconnect and jumper with known resistor, verify reading updates. Reconfigure sensor type in setup menu: coolant temp (thermistor 0-300°F), oil pressure (0-100 PSI resistive), etc. Replace sensor if out-of-spec.",
    "parts": ["Cummins OEM sensors (coolant temp, oil pressure, fuel level)", "Sensor harness", "Connector pins"],
    "tools": ["Ohmmeter", "Cummins sensor resistance chart", "PowerWizard Configuration Tool", "Jumper wires"],
    "downtime": "1-3 hours",
    "preventive": "Annual sensor resistance verification, quarterly wiring inspection, monthly sensor fault log review"
  },
  {
    "service": "PowerWizard Systems",
    "code": "PW-103",
    "issue": "Programming lost or configuration reset",
    "severity": "MED",
    "symptoms": "Display shows 'Config Lost' or defaults; genset parameters reset to factory; alarm setpoints incorrect; run-time counters zeroed; date/time reset",
    "causes": ["Backup battery depleted (<2.5V)", "EEPROM write failure", "Firmware corruption", "Voltage transient during save operation", "Configuration file upload interrupted"],
    "solution": "Check internal backup battery (coin cell CR2032): voltage should be >3.0V. Replace if <2.7V. Restore configuration from USB backup file via PowerWizard Configuration Tool: [Menu] > [Config] > [Restore from File]. Reconfigure critical parameters manually if no backup: alarm setpoints (oil pressure <30 PSI, coolant temp >220°F), run-time counters, date/time, load management settings. Perform 'Save to EEPROM' operation to persist configuration. If repeated failures, suspect EEPROM chip failure—requires depot repair or unit replacement.",
    "parts": ["CR2032 backup battery", "PowerWizard replacement unit", "USB configuration backup"],
    "tools": ["Multimeter", "PC with PowerWizard Configuration Tool", "Screwdriver for battery access"],
    "downtime": "1-2 hours (plus configuration restore time)",
    "preventive": "Annual backup battery replacement, monthly configuration backup to USB, quarterly EEPROM health check (save/restore test)"
  },
  {
    "service": "AC & UPS",
    "code": "UPS-401",
    "issue": "UPS battery runtime insufficient",
    "severity": "MED",
    "symptoms": "Battery discharges in <50% of rated runtime; runtime alarm triggers early; battery voltage drops rapidly under load; frequent low battery warnings",
    "causes": ["Batteries aged >5 years", "Incorrect battery sizing", "Partial discharge cycles reducing capacity", "High ambient temperature >25°C", "Battery impedance increased", "Depth of discharge >80% regularly"],
    "solution": "Perform battery capacity test: discharge at rated current until 1.75V/cell, compare to nameplate Ah rating. Replace batteries if capacity <80% of rated. Verify battery string sizing: total Ah ≥ (Load W × Runtime min / 60 min) / (Battery V × 0.8 efficiency). Maintain ambient temp 20-25°C: every 10°C above 25°C halves battery life. Test battery impedance: <5 mΩ per 12V block when new, replace at >15 mΩ. Avoid deep discharges: set UPS low battery shutdown at 30% SOC. Perform monthly equalization charge if flooded lead-acid type.",
    "parts": ["Replacement battery string (VRLA or flooded lead-acid, matching voltage and Ah)", "Battery terminal grease", "Connecting cables"],
    "tools": ["Battery load tester", "Impedance meter", "Hydrometer (for flooded type)", "Infrared thermometer", "Torque wrench"],
    "downtime": "2-4 hours for battery replacement",
    "preventive": "Annual capacity test, quarterly impedance measurement, monthly visual inspection, 3-5 year battery replacement cycle"
  },
  {
    "service": "AC & UPS",
    "code": "UPS-402",
    "issue": "UPS inverter overload or frequent shutdowns",
    "severity": "HIGH",
    "symptoms": "Overload alarm at <90% rated load; inverter shuts down under load; output voltage collapses; high inrush current trips; bypass mode activation",
    "causes": ["Undersized inverter for peak load", "High inrush loads (motors, transformers)", "Inverter IGBT degradation", "Output filter capacitor failure", "Overtemperature due to poor cooling", "Harmonic distortion >10% THD"],
    "solution": "Measure load power factor: if <0.8, inverter kVA rating may be insufficient (kW rating OK but kVA exceeded). Calculate peak inrush: motors draw 5-8× FLA on start, use soft-starters or VFDs. Test inverter capacity: load to 100% rated kVA for 15 min, monitor voltage sag <3%, frequency deviation <0.5 Hz. Inspect cooling: ensure fans operational, airflow >500 CFM, heatsink temp <70°C. Replace output filter capacitors if ESR >1Ω or capacitance <80% rated. Add harmonic filter if THD >5%.",
    "parts": ["Inverter module (IGBT based)", "Output filter capacitors", "Cooling fans", "Harmonic filter", "Soft-start relay"],
    "tools": ["Power quality analyzer", "Clamp meter", "Infrared thermometer", "Oscilloscope", "Anemometer"],
    "downtime": "4-10 hours for inverter repair",
    "preventive": "Quarterly load profile review, semi-annual capacitor ESR test, annual cooling system maintenance, monthly THD monitoring"
  },
  {
    "service": "Automation",
    "code": "AUTO-501",
    "issue": "PLC cycle time increasing or watchdog timeout",
    "severity": "MED",
    "symptoms": "Cycle time >100 ms; watchdog errors in log; delayed I/O response; occasional PLC restarts; HMI communication lag",
    "causes": ["Excessive program complexity (>10,000 rungs)", "I/O scan time bottleneck", "Network congestion (Modbus RTU, Profinet)", "Insufficient PLC memory", "Firmware bugs", "Floating point math in scan loop"],
    "solution": "Optimize PLC program: move non-critical tasks to background or slower scan rate (e.g., 500 ms for data logging vs 10 ms for control). Reduce I/O scan overhead: group remote I/O, use block transfers. Analyze network traffic: Modbus RTU should be <10 ms per query, total scan <50 ms. Increase PLC memory if utilization >80%. Update firmware to latest stable release. Move math-intensive operations (PID loops, trig functions) to interrupt routines or slower scan. Benchmark scan time: target <20 ms for typical industrial automation.",
    "parts": ["PLC memory expansion module", "Ethernet switch for network optimization", "Firmware upgrade"],
    "tools": ["PLC programming software", "Network analyzer", "Stopwatch/timer", "CPU utilization monitor"],
    "downtime": "2-6 hours for optimization",
    "preventive": "Monthly scan time monitoring, quarterly program review, annual firmware update, capacity planning for future expansion"
  },
  {
    "service": "Pumps",
    "code": "PUMP-601",
    "issue": "Pump cavitation or low flow",
    "severity": "MED",
    "symptoms": "Loud rattling noise from pump; vibration >10 mm/s; reduced flow rate <80% rated; discharge pressure fluctuating; motor current spiking",
    "causes": ["NPSH available < NPSH required", "Suction line air leak", "Impeller wear", "Suction strainer clogged", "Pump running off best efficiency point (BEP)", "Fluid temperature too high (vapor pressure issue)"],
    "solution": "Calculate NPSH available: (Atmospheric pressure + Static head + Surface pressure) - (Vapor pressure + Friction losses + Velocity head). Compare to NPSH required from pump curve: NPSH_avail must exceed NPSH_req by ≥1.0 m. Check for air leaks: pressurize suction line to 1.5× max suction pressure, look for bubbles. Inspect impeller: wear ring clearance should be <0.5 mm. Clean suction strainer: pressure drop <10 kPa. Verify operating point on pump curve: flow within ±20% of BEP. Reduce fluid temp or increase suction pressure if vapor pressure is issue.",
    "parts": ["Impeller", "Wear rings", "Mechanical seal", "Suction strainer", "Suction gaskets/O-rings"],
    "tools": ["Vibration analyzer", "Ultrasonic leak detector", "Pressure gauges", "Flow meter", "Feeler gauges"],
    "downtime": "3-8 hours for impeller replacement",
    "preventive": "Quarterly vibration analysis, semi-annual impeller inspection, annual seal replacement, monthly strainer cleaning"
  },
  {
    "service": "Incinerators",
    "code": "INCIN-701",
    "issue": "Incomplete combustion or low chamber temperature",
    "severity": "HIGH",
    "symptoms": "Chamber temp <850°C; visible smoke from stack; unburned material in ash; CO >100 ppm in flue gas; burner flame yellow/orange not blue",
    "causes": ["Insufficient air supply (O₂ <6% in flue gas)", "Fuel-air ratio incorrect", "Burner nozzle clogged", "Refractory lining degraded", "Waste feed rate too high", "Low heating value fuel (LHV <18 MJ/kg)"],
    "solution": "Adjust combustion air: target 6-10% O₂ in flue gas (measured post-chamber, pre-dilution). Tune burner: fuel pressure 7-10 bar, atomizing air 2-4 bar, flame temperature >1100°C. Clean burner nozzle: ensure spray pattern is conical, no drip after shutoff. Inspect refractory: repair cracks >5 mm, replace if thickness <50% original. Reduce feed rate: ensure residence time >2 seconds at >850°C. Test fuel heating value: LHV ≥18 MJ/kg for reliable ignition, blend with diesel if needed. Install O₂ trim control to maintain optimal combustion.",
    "parts": ["Burner nozzle", "Refractory bricks", "Refractory mortar", "Flame sensor", "O₂ sensor"],
    "tools": ["Flue gas analyzer", "Infrared thermometer", "Fuel pressure gauge", "Refractory thickness gauge", "Calorimeter (for fuel LHV)"],
    "downtime": "4-12 hours for refractory repair",
    "preventive": "Monthly flue gas analysis, quarterly burner nozzle cleaning, annual refractory inspection, continuous O₂ monitoring"
  },
  {
    "service": "Motors/Rewinding",
    "code": "MOTOR-801",
    "issue": "Motor overheating or winding insulation failure",
    "severity": "HIGH",
    "symptoms": "Motor surface temp >80°C above ambient; winding resistance imbalanced >5%; insulation resistance <1 MΩ; smell of burning varnish; motor trips on thermal overload",
    "causes": ["Overload >110% FLA continuously", "Single-phasing (one phase open)", "Voltage imbalance >2%", "Blocked cooling fan or vents", "Bearing friction increasing", "Winding insulation degradation from age/moisture", "Harmonic distortion from VFD"],
    "solution": "Measure current on all three phases: should be within ±5% of each other and <100% FLA for continuous operation. Check supply voltage: imbalance <2%, total voltage within ±10% of nameplate. Test insulation resistance: Phase-Phase >10 MΩ, Phase-Ground >1 MΩ at 500V DC. Inspect cooling: ensure fan rotates freely, air vents clear, ambient temp <40°C. Measure vibration: <4.5 mm/s for Class I motors indicates bearings OK. If insulation <1 MΩ, motor requires rewinding. Add line reactor or dV/dt filters if VFD-driven to reduce bearing currents and insulation stress.",
    "parts": ["Motor rewind (coil replacement)", "Bearings", "Cooling fan", "Thermal overload relay", "VFD line reactor"],
    "tools": ["Insulation resistance tester (Megger)", "Clamp ammeter", "Vibration meter", "Infrared thermometer", "Multimeter"],
    "downtime": "6-24 hours for rewind (depends on motor size)",
    "preventive": "Annual insulation resistance test, semi-annual vibration analysis, monthly current imbalance check, quarterly cleaning of vents/fan"
  },
  {
    "service": "Diagnostics Hub",
    "code": "DIAG-901",
    "issue": "Data logging interruption or lost telemetry",
    "severity": "MED",
    "symptoms": "No new data in SCADA system; telemetry timestamps frozen; communication timeout alarms; SD card full or corrupted; ModbusRTU/TCP errors",
    "causes": ["Network connectivity loss (Ethernet, GSM, RS485)", "Data logger memory full", "SD card file system corruption", "SCADA server offline", "Modbus addressing conflict", "Firewall blocking port 502 (Modbus TCP)"],
    "solution": "Verify network connectivity: ping SCADA server IP, check for <100 ms latency and <1% packet loss. Inspect data logger: ensure storage <80% full, perform SD card filesystem check (chkdsk or fsck). Check Modbus configuration: ensure unique slave IDs (1-247), correct baud rate (9600/19200/115200), no address collisions. Restart SCADA services if server CPU >80% or memory >90%. Open firewall port 502 for Modbus TCP, port 22 for SSH telemetry. Review event logs for CRC errors (indicates wiring issues). Implement data buffering: log locally during comm outages, sync when restored.",
    "parts": ["SD card (industrial-grade, MLC or SLC)", "Ethernet cable (Cat5e/Cat6)", "RS485 termination resistors", "GSM modem/router"],
    "tools": ["Network cable tester", "Protocol analyzer (Modbus poll software)", "Ping/traceroute utility", "SD card formatter"],
    "downtime": "1-4 hours",
    "preventive": "Monthly SD card health check, quarterly network audit, annual firmware update, continuous monitoring of comm success rate"
  }
]
