# ğŸ”§ DOMAIN FIX - www.emersoneims.com

## âœ… FIXES APPLIED

### **1. Middleware Redirect Added**
- Added redirect logic in `middleware.ts`
- Redirects `www.emersoneims.com` â†’ `emersoneims.com` (301 permanent)
- Ensures consistent domain usage

### **2. Vercel Configuration Updated**
- Added redirect rule in `vercel.json`
- Handles www to non-www redirect at Vercel level

---

## ğŸš¨ CRITICAL: Vercel Dashboard Configuration Required

**The code changes alone won't work until you configure the domain in Vercel:**

### **Steps to Fix:**

1. **Go to Vercel Dashboard:**
   - https://vercel.com/dashboard
   - Select project: `Maina977-emersoneims-nextjs`

2. **Add Domain:**
   - Settings â†’ Domains
   - Click "Add Domain"
   - Enter: `www.emersoneims.com`
   - Click "Add"

3. **Configure DNS:**
   - Vercel will show DNS records
   - Add CNAME record at your domain registrar:
     ```
     Type: CNAME
     Name: www
     Value: cname.vercel-dns.com
     ```

4. **Wait for DNS Propagation:**
   - Can take 24-48 hours
   - Check with: `nslookup www.emersoneims.com`

---

## ğŸ” Current Configuration

### **Environment Variables:**
- `NEXT_PUBLIC_SITE_URL`: `https://emersoneims.com` (non-www)
- `WORDPRESS_SITE_URL`: `https://www.emersoneims.com` (www)

### **Redirect Strategy:**
- **www.emersoneims.com** â†’ **emersoneims.com** (301 redirect)
- This ensures SEO consistency (one canonical domain)

---

## âœ… After DNS Configuration

Once DNS is configured:
1. âœ… www.emersoneims.com will redirect to emersoneims.com
2. âœ… Both domains will work
3. âœ… SEO will be consistent (one canonical domain)
4. âœ… SSL certificates will be auto-generated by Vercel

---

## ğŸ§ª Test After Setup

```bash
# Test redirect
curl -I https://www.emersoneims.com

# Should return:
# HTTP/1.1 301 Moved Permanently
# Location: https://emersoneims.com
```

---

**Status:** Code fixes applied. **Domain configuration in Vercel dashboard required.**

